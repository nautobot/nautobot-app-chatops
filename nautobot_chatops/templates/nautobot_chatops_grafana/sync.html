{% extends "base.html" %}
{% load form_helpers %}
{% load helpers %}

{% block content %}
<form action="" method="post" enctype="multipart/form-data" class="form form-horizontal">
    {% csrf_token %}
    {% for field in form.hidden_fields %}
    {{ field }}
    {% endfor %}
    <div class="row">
        <div class="col-lg-6 offset-lg-3">
            <h3>
                {% if settings.DOCS_ROOT %}
                <div class="float-end">
                    <button type="button" class="btn btn-link btn-sm" data-bs-toggle="modal" data-bs-target="#docs_modal" title="Help">
                        <i class="mdi mdi-help-circle"></i>
                    </button>
                </div>
                {% endif %}
                {% block title %}Synchronize {{ obj_type }} data{% endblock title %}
            </h3>
            {% block tabs %}{% endblock tabs %}
            {% if form.non_field_errors %}
            <div class="card border-danger">
                <div class="card-header bg-danger-subtle border-danger text-body"><strong>Errors</strong></div>
                <div class="card-body">
                    {{ form.non_field_errors }}
                </div>
            </div>
            {% endif %}
            {% block form %}
            <div class="card">
                <div class="card-header"><strong>{{ obj_type|capfirst }}</strong></div>
                <div class="card-body">
                    {% block form_fields %}
                    {% render_form form %}
                    {% endblock form_fields %}
                </div>
            </div>
            {% include "inc/extras_features_edit_form_fields.html" %}
            {% endblock form %}
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 offset-lg-3 text-end">
            {% block buttons %}
            <button type="submit" name="_create" class="btn btn-warning"><span class="mdi mdi-database-sync-outline"></span>Sync</button>
            <a href="{{ return_url }}" class="btn btn-secondary">Cancel</a>
            {% endblock buttons %}
        </div>
    </div>
</form>
{% if obj and settings.DOCS_ROOT %}
{% include "inc/modal.html" with name="docs" content=obj|get_docs_url %}
{% endif %}
{% endblock content %}

